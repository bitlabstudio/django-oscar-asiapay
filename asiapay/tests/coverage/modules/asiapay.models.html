<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-type" content="text/html;charset=UTF-8" />
    <title>Test coverage report: asiapay.models</title>
    <style type="text/css" media="screen">
      a
      {
        color: #3d707a;
      }
      
      a:hover, a:active
      {
        color: #bf7d18;
      }
    
      body 
      {
        font-family: "Lucida Sans Unicode", "Lucida Grande", sans-serif;
        font-size: 13px;
      }
      
      .nav 
      {
        font-size: 12px;
        margin-left: 50px;
      }

      .ignored
      {
        color: #707070;
      }

      .executed 
      {
        color: #3d9900;
      }

      .missed 
      {
        color: red;
        font-weight: bold;
      }

      .excluded 
      {
        color: #6090f0;
        font-weight: lighter;
      }
    
      #content-header 
      {
        font-size: 12px;
        padding: 18px 0 18px 50px;
      }

      #content-header h1 
      {
        font-size: 16px;
        margin: 10px 0 0 0;
        color: #909090;
      }
      
      #module-name
      {
        color: #583707;
      }
    
      #content-header p
      {
        font-size: 13px;
        margin: 0;
        color: #909090;
      }

      #content-header .normal 
      {
        color: #609030;
      }

      #content-header .warning 
      {
        color: #d0a000;
      }

      #content-header .critical 
      {
        color: red;
      }
      
      #source-listing 
      {
        margin-bottom: 24px;
      }

      #source-listing ol 
      {
        padding: 0 0 0 50px;
        width: 90%;
        font-family: monospace;
        list-style-position: outside;
      }

      #source-listing ol li 
      {
        line-height: 18px;
        font-size: small;
      }
        
      #source-listing ol code 
      {
        padding:  0 .001em 0 0; /* Firefox doesn't render empty li's properly */
        font-size: medium;
        white-space: pre;
      }
   </style>
  </head>

  <body>

<div class="nav">
  <a href="asiapay.__init__.html">asiapay.__init__</a> &lt;&lt;
  <a href="../index.html">index</a>
  &gt;&gt; <a href="asiapay.views.html">asiapay.views</a>
</div>

<div id="content-header">
  <h1>
    <span id="module-name">asiapay.models</span>:
    41 total statements,
    <span class="normal">100.0% covered</span>
  </h1>
  <p>Generated: Tue 2014-07-08 11:46 CEST</p>
  <p>Source file: /home/tobi/Projects/django-oscar-asiapay/src/asiapay/models.py</p>
  <p>
    Stats:
    <span class="executed">37 executed</span>,
    <span class="missed">0 missed</span>,
    <span class="excluded">4 excluded</span>,
    <span class="ignored">179 ignored</span> 
  </p> 
</div>

<div id="source-listing">
  <ol>
    <li class="ignored"><code>"""Models for the ``asiapay`` app."""</code></li>
<li class="excluded"><code>from django.db import models</code></li>
<li class="excluded"><code>from django.utils.translation import ugettext_lazy as _</code></li>
<li class="ignored"><code></code></li>
<li class="ignored"><code></code></li>
<li class="executed"><code>class AsiaPayTransaction(models.Model):</code></li>
<li class="ignored"><code>    """</code></li>
<li class="ignored"><code>    Modal, which contains information about an AsiaPay transaction:</code></li>
<li class="ignored"><code></code></li>
<li class="ignored"><code>    :payment_method: Method of the payment (e.g. VISA).</code></li>
<li class="ignored"><code>    :currency_code: Asiapay currency code.</code></li>
<li class="ignored"><code>    :prc: Primary response code (primary bank host status code).</code></li>
<li class="ignored"><code>    :src: Secondary response code (primary bank host status code).</code></li>
<li class="ignored"><code>    :auth_id: Approval code.</code></li>
<li class="ignored"><code>    :success_code: Success code of the transaction.</code></li>
<li class="ignored"><code>    :payer_auth: Payer authentication status.</code></li>
<li class="ignored"><code>    :channel_type: AsiaPay channel type.</code></li>
<li class="ignored"><code>    :order_number: Number of the relevant order.</code></li>
<li class="ignored"><code>    :ip_country: Country of payer's IP.</code></li>
<li class="ignored"><code>    :payment_reference: PayDollar reference number.</code></li>
<li class="ignored"><code>    :bank_reference: Bank reference number (ORD).</code></li>
<li class="ignored"><code>    :account_holder: Name of the account holder.</code></li>
<li class="ignored"><code>    :amount: Transaction amount.</code></li>
<li class="ignored"><code>    :transaction_time: Datetime of the transaction.</code></li>
<li class="ignored"><code>    :eci: ECI value (for 3D enabled merchants).</code></li>
<li class="ignored"><code>    :remark: Additional remark.</code></li>
<li class="ignored"><code>    :card_issuing_country: Card issuing country (marked with an asterisk if on</code></li>
<li class="ignored"><code>      high risk country list).</code></li>
<li class="ignored"><code>    :alert_code: Alert code of the transaction.</code></li>
<li class="ignored"><code>    :merchant_id: Merchant ID (set in settings).</code></li>
<li class="ignored"><code>    :exp_month: Expiration month of the card.</code></li>
<li class="ignored"><code>    :exp_year: Expiration year of the card.</code></li>
<li class="ignored"><code>    :source_ip: IP address of the payer.</code></li>
<li class="ignored"><code>    :pan_first_4: First four digits of card.</code></li>
<li class="ignored"><code>    :pan_first_6: First six digits of card.</code></li>
<li class="ignored"><code>    :pan_last_4: Last four digits of card.</code></li>
<li class="ignored"><code></code></li>
<li class="ignored"><code>    """</code></li>
<li class="executed"><code>    payment_method = models.CharField(</code></li>
<li class="ignored"><code>        verbose_name=_('Payment method'),</code></li>
<li class="ignored"><code>        max_length=10,</code></li>
<li class="ignored"><code>    )</code></li>
<li class="ignored"><code></code></li>
<li class="executed"><code>    currency_code = models.CharField(</code></li>
<li class="ignored"><code>        verbose_name=_('Currency'),</code></li>
<li class="ignored"><code>        max_length=3,</code></li>
<li class="ignored"><code>        choices=(</code></li>
<li class="ignored"><code>            ('344', 'HKD'),</code></li>
<li class="ignored"><code>            ('156', 'CNY (RMB)'),</code></li>
<li class="ignored"><code>            ('036', 'AUD'),</code></li>
<li class="ignored"><code>            ('124', 'CAD'),</code></li>
<li class="ignored"><code>            ('764', 'THB'),</code></li>
<li class="ignored"><code>            ('410', 'KRW'),</code></li>
<li class="ignored"><code>            ('784', 'AED'),</code></li>
<li class="ignored"><code>            ('356', 'INR'),</code></li>
<li class="ignored"><code>            ('840', 'USD'),</code></li>
<li class="ignored"><code>            ('392', 'JPY'),</code></li>
<li class="ignored"><code>            ('978', 'EUR'),</code></li>
<li class="ignored"><code>            ('446', 'MOP'),</code></li>
<li class="ignored"><code>            ('458', 'MYR'),</code></li>
<li class="ignored"><code>            ('682', 'SAR'),</code></li>
<li class="ignored"><code>            ('096', 'BND'),</code></li>
<li class="ignored"><code>            ('702', 'SGD'),</code></li>
<li class="ignored"><code>            ('901', 'TWD'),</code></li>
<li class="ignored"><code>            ('826', 'GBP'),</code></li>
<li class="ignored"><code>            ('608', 'PHP'),</code></li>
<li class="ignored"><code>            ('360', 'IDR'),</code></li>
<li class="ignored"><code>            ('554', 'NZD'),</code></li>
<li class="ignored"><code>            ('704', 'VND'),</code></li>
<li class="ignored"><code>        )</code></li>
<li class="ignored"><code>    )</code></li>
<li class="ignored"><code></code></li>
<li class="executed"><code>    prc = models.IntegerField(</code></li>
<li class="ignored"><code>        verbose_name=_('Primary bank host status'),</code></li>
<li class="ignored"><code>    )</code></li>
<li class="ignored"><code></code></li>
<li class="executed"><code>    src = models.IntegerField(</code></li>
<li class="ignored"><code>        verbose_name=_('Secondary bank host status'),</code></li>
<li class="ignored"><code>    )</code></li>
<li class="ignored"><code></code></li>
<li class="executed"><code>    auth_id = models.CharField(</code></li>
<li class="ignored"><code>        verbose_name=_('Auth ID'),</code></li>
<li class="ignored"><code>        max_length=128,</code></li>
<li class="ignored"><code>        blank=True,</code></li>
<li class="ignored"><code>    )</code></li>
<li class="ignored"><code></code></li>
<li class="executed"><code>    success_code = models.SmallIntegerField(</code></li>
<li class="ignored"><code>        verbose_name=_('Success code'),</code></li>
<li class="ignored"><code>    )</code></li>
<li class="ignored"><code></code></li>
<li class="executed"><code>    payer_auth = models.CharField(</code></li>
<li class="ignored"><code>        verbose_name=_('Payer auth status'),</code></li>
<li class="ignored"><code>        max_length=1,</code></li>
<li class="ignored"><code>        choices=(</code></li>
<li class="ignored"><code>            ('Y', '3-D card succeeded'),</code></li>
<li class="ignored"><code>            ('N', '3-D card failed'),</code></li>
<li class="ignored"><code>            ('P', '3-D secure check pending'),</code></li>
<li class="ignored"><code>            ('A', 'Card is not 3-D secure enrolled'),</code></li>
<li class="ignored"><code>            ('U', '3-D secure check not processed'),</code></li>
<li class="ignored"><code>        )</code></li>
<li class="ignored"><code></code></li>
<li class="ignored"><code>    )</code></li>
<li class="ignored"><code></code></li>
<li class="executed"><code>    channel_type = models.CharField(</code></li>
<li class="ignored"><code>        verbose_name=_('AsiaPay channel type'),</code></li>
<li class="ignored"><code>        max_length=3,</code></li>
<li class="ignored"><code>        choices=(</code></li>
<li class="ignored"><code>            ('SPC', 'Client Post Through Browser'),</code></li>
<li class="ignored"><code>            ('DPC', 'Direct Client Side Connection'),</code></li>
<li class="ignored"><code>            ('DPS', 'Server Side Direct Connection'),</code></li>
<li class="ignored"><code>            ('SCH', 'Schedule Payment'),</code></li>
<li class="ignored"><code>            ('DPL', 'Direct Payment Link Connection'),</code></li>
<li class="ignored"><code>            ('MOT', 'Moto Connection'),</code></li>
<li class="ignored"><code>            ('RTL', 'RetailPay Connection'),</code></li>
<li class="ignored"><code>            ('BPP', 'Batch Payment Process'),</code></li>
<li class="ignored"><code>            ('MOB', 'Mobile Payment Connection'),</code></li>
<li class="ignored"><code>        )</code></li>
<li class="ignored"><code>    )</code></li>
<li class="ignored"><code></code></li>
<li class="executed"><code>    order_number = models.CharField(</code></li>
<li class="ignored"><code>        verbose_name=_('Order number'),</code></li>
<li class="ignored"><code>        max_length=128,</code></li>
<li class="ignored"><code>    )</code></li>
<li class="ignored"><code></code></li>
<li class="executed"><code>    ip_country = models.CharField(</code></li>
<li class="ignored"><code>        verbose_name=_('Country of payer\'s IP'),</code></li>
<li class="ignored"><code>        max_length=3,</code></li>
<li class="ignored"><code>    )</code></li>
<li class="ignored"><code></code></li>
<li class="executed"><code>    payment_reference = models.IntegerField(</code></li>
<li class="ignored"><code>        verbose_name=_('Payment Reference'),</code></li>
<li class="ignored"><code>    )</code></li>
<li class="ignored"><code></code></li>
<li class="executed"><code>    bank_reference = models.IntegerField(</code></li>
<li class="ignored"><code>        verbose_name=_('Bank reference (ORD)'),</code></li>
<li class="ignored"><code>        blank=True, null=True,</code></li>
<li class="ignored"><code>    )</code></li>
<li class="ignored"><code></code></li>
<li class="executed"><code>    account_holder = models.CharField(</code></li>
<li class="ignored"><code>        verbose_name=_('Account holder'),</code></li>
<li class="ignored"><code>        max_length=128,</code></li>
<li class="ignored"><code>    )</code></li>
<li class="ignored"><code></code></li>
<li class="executed"><code>    amount = models.FloatField(</code></li>
<li class="ignored"><code>        verbose_name=_('Amount'),</code></li>
<li class="ignored"><code>    )</code></li>
<li class="ignored"><code></code></li>
<li class="executed"><code>    transaction_time = models.DateTimeField(</code></li>
<li class="ignored"><code>        verbose_name=_('Transaction time'),</code></li>
<li class="ignored"><code>    )</code></li>
<li class="ignored"><code></code></li>
<li class="executed"><code>    eci = models.CharField(</code></li>
<li class="ignored"><code>        verbose_name=_('ECI'),</code></li>
<li class="ignored"><code>        max_length=2,</code></li>
<li class="ignored"><code>    )</code></li>
<li class="ignored"><code></code></li>
<li class="executed"><code>    remark = models.TextField(</code></li>
<li class="ignored"><code>        verbose_name=_('Remark'),</code></li>
<li class="ignored"><code>        max_length=1024,</code></li>
<li class="ignored"><code>        blank=True,</code></li>
<li class="ignored"><code>    )</code></li>
<li class="ignored"><code></code></li>
<li class="executed"><code>    card_issuing_country = models.CharField(</code></li>
<li class="ignored"><code>        verbose_name=_('Card issuing country'),</code></li>
<li class="ignored"><code>        max_length=3,</code></li>
<li class="ignored"><code>    )</code></li>
<li class="ignored"><code></code></li>
<li class="executed"><code>    alert_code = models.CharField(</code></li>
<li class="ignored"><code>        verbose_name=_('Alert code'),</code></li>
<li class="ignored"><code>        max_length=50,</code></li>
<li class="ignored"><code>        help_text=_('e.g. R14 - IP Country not match with Issuing Country')</code></li>
<li class="ignored"><code>    )</code></li>
<li class="ignored"><code></code></li>
<li class="executed"><code>    merchant_id = models.IntegerField(</code></li>
<li class="ignored"><code>        verbose_name=_('Merchant ID'),</code></li>
<li class="ignored"><code>    )</code></li>
<li class="ignored"><code></code></li>
<li class="executed"><code>    exp_month = models.PositiveIntegerField(</code></li>
<li class="ignored"><code>        verbose_name=_('Expiration month of card'),</code></li>
<li class="ignored"><code>    )</code></li>
<li class="ignored"><code></code></li>
<li class="executed"><code>    exp_year = models.PositiveIntegerField(</code></li>
<li class="ignored"><code>        verbose_name=_('Expiration year of card'),</code></li>
<li class="ignored"><code>    )</code></li>
<li class="ignored"><code></code></li>
<li class="executed"><code>    source_ip = models.IPAddressField(</code></li>
<li class="ignored"><code>        verbose_name=_('Source IP'),</code></li>
<li class="ignored"><code>    )</code></li>
<li class="ignored"><code></code></li>
<li class="executed"><code>    pan_first_4 = models.CharField(</code></li>
<li class="ignored"><code>        verbose_name=_('First four digits of card'),</code></li>
<li class="ignored"><code>        max_length=4,</code></li>
<li class="ignored"><code>    )</code></li>
<li class="ignored"><code></code></li>
<li class="executed"><code>    pan_first_6 = models.CharField(</code></li>
<li class="ignored"><code>        verbose_name=_('First six digits of card'),</code></li>
<li class="ignored"><code>        max_length=6,</code></li>
<li class="ignored"><code>    )</code></li>
<li class="ignored"><code></code></li>
<li class="executed"><code>    pan_last_4 = models.CharField(</code></li>
<li class="ignored"><code>        verbose_name=_('Last four digits of card'),</code></li>
<li class="ignored"><code>        max_length=4,</code></li>
<li class="ignored"><code>    )</code></li>
<li class="ignored"><code></code></li>
<li class="executed"><code>    class Meta:</code></li>
<li class="executed"><code>        ordering = ('-transaction_time', )</code></li>
<li class="ignored"><code></code></li>
<li class="executed"><code>    def translate_success_code(self):</code></li>
<li class="executed"><code>        if self.success_code == '0':</code></li>
<li class="executed"><code>            return _('Succeeded')</code></li>
<li class="executed"><code>        if self.success_code == '1':</code></li>
<li class="executed"><code>            return _('Failure')</code></li>
<li class="executed"><code>        return _('Error')</code></li>
<li class="ignored"><code></code></li>
<li class="executed"><code>    @property</code></li>
<li class="ignored"><code>    def is_successful(self):</code></li>
<li class="executed"><code>        return self.prc == '0'</code></li>
<li class="ignored"><code></code></li>
<li class="excluded"><code>    def __unicode__(self):</code></li>
<li class="excluded"><code>        return self.order_number</code></li>
  </ol>
</div>

<div class="nav">
  <a href="asiapay.__init__.html">asiapay.__init__</a> &lt;&lt;
  <a href="../index.html">index</a>
  &gt;&gt; <a href="asiapay.views.html">asiapay.views</a>
</div>

  </body>
</html>

